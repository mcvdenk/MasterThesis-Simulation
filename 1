from pymongo import MongoClient
import random

db = MongoClient().flashmap

useful_items = []
ease_items = []

formulations = ["positive", "negative"]

for part in db.questionnaire.find():
    for key in part:
        if (key == "perceived_usefulness"):
            for item in part[key]:
                formulation = random.choice(formulations)
                useful_items.append({"id": item["id"], "formulation": formulation, "item": item[formulation]})
            for item in part[key]:
                formulation = formulations[1 - formulations.index(useful_items[int(item["id"])]["formulation"])]
                useful_items.append({"id": item["id"], "formulation": formulation, "item": item[formulation]})
        if (key == "perceived_ease_of_use"):
            for item in part[key]:
                formulation = random.choice(formulations)
                ease_items.append({"id": item["id"], "formulation": formulation, "item": item[formulation]})


random.shuffle(ease_items)
print(useful_items)
print(ease_items)
